# linux


# running "set computer name & hostname"

# read -p "enter computer name: " computer_name
# sudo hostnamectl hostname --pretty "$computer_name"
# sudo hostnamectl hostname --static $HOSTNAME
# sudo hostnamectl chassis $CHASSIS


running "looking for tailscale"

if [ command -v tailscale &> /dev/null ]; then
	warn "tailscale not found"

	running "installing tailscale"
	curl -fsSL https://tailscale.com/install.sh | sh
	sudo tailscale up --operator=$USER
	ok "show tailscale status"
	tailscale status
	ok "docker successfully installed"
else
    ok "tailscale already installed"
fi


running "looking for docker"

if [ command -v docker &> /dev/null ]; then
    warn "docker not found"

	running "installing docker"
	curl -fsSL https://get.docker.com -o get-docker.sh
	# sudo {{ lookPath "sh" }} ./get-docker.sh --dry-run
	sudo {{ lookPath "sh" }} ./get-docker.sh
	ok "docker successfully installed"

	running "manage docker as a non-root user"
	sudo groupadd docker
	sudo usermod -aG docker $USER
	ok "show docker info"
	docker info
else
    ok "docker already installed"
fi

running "looking for ohmyzsh"

if [ command -v omz &> /dev/null ]; then
    warn "ohmyzsh not found"

    running "installing ohmyzsh"
    sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
    source ~/.zshrc
    ok "ohmyzsh successfully installed"
else
    ok "ohmyzsh already installed"
fi

# curl -s https://packagecloud.io/install/repositories/ookla/speedtest-cli/script.deb.sh | sudo bash
# sudo apt install speedtest
